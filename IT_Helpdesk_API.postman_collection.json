{
	"info": {
		"_postman_id": "it-helpdesk-api-collection",
		"name": "IT Helpdesk System API",
		"description": "Complete API collection for IT Helpdesk System with RBAC authentication.\n\n**Test Credentials:**\n- Admin: admin / password123\n- IT Support: itsupport1 / password123\n- Employee: employee1 / password123",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:8080",
			"type": "string"
		},
		{
			"key": "token",
			"value": "",
			"type": "string"
		}
	],
	"item": [
		{
			"name": "1. Auth API",
			"item": [
				{
					"name": "Login as Admin",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"if (jsonData.success && jsonData.data.token) {",
									"    pm.collectionVariables.set('token', jsonData.data.token);",
									"    console.log('Token saved successfully');",
									"}",
									"",
									"pm.test('Login successful', function() {",
									"    pm.response.to.have.status(200);",
									"    pm.expect(jsonData.success).to.be.true;",
									"    pm.expect(jsonData.data.token).to.not.be.empty;",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"username\": \"admin\",\n    \"password\": \"password123\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/login",
							"host": ["{{baseUrl}}"],
							"path": ["api", "auth", "login"]
						},
						"description": "Login as Admin user. Permissions: All admin permissions"
					},
					"response": []
				},
				{
					"name": "Login as IT Support",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"if (jsonData.success && jsonData.data.token) {",
									"    pm.collectionVariables.set('token', jsonData.data.token);",
									"    console.log('Token saved successfully');",
									"}",
									"",
									"pm.test('Login successful', function() {",
									"    pm.response.to.have.status(200);",
									"    pm.expect(jsonData.success).to.be.true;",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"username\": \"itsupport1\",\n    \"password\": \"password123\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/login",
							"host": ["{{baseUrl}}"],
							"path": ["api", "auth", "login"]
						},
						"description": "Login as IT Support user. Permissions: TICKET_VIEW_ALL, TICKET_ASSIGN, TICKET_UPDATE_STATUS, COMMENT_ADD, REPORT_VIEW"
					},
					"response": []
				},
				{
					"name": "Login as Employee",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"if (jsonData.success && jsonData.data.token) {",
									"    pm.collectionVariables.set('token', jsonData.data.token);",
									"    console.log('Token saved successfully');",
									"}",
									"",
									"pm.test('Login successful', function() {",
									"    pm.response.to.have.status(200);",
									"    pm.expect(jsonData.success).to.be.true;",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"username\": \"employee1\",\n    \"password\": \"password123\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/login",
							"host": ["{{baseUrl}}"],
							"path": ["api", "auth", "login"]
						},
						"description": "Login as Employee user. Permissions: TICKET_CREATE, TICKET_VIEW_OWN, COMMENT_ADD"
					},
					"response": []
				},
				{
					"name": "Logout",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/auth/logout",
							"host": ["{{baseUrl}}"],
							"path": ["api", "auth", "logout"]
						},
						"description": "Logout current user (JWT stateless - client removes token)"
					},
					"response": []
				}
			],
			"description": "Authentication endpoints"
		},
		{
			"name": "2. User Management API",
			"item": [
				{
					"name": "Get All Users",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Get all users successful', function() {",
									"    pm.response.to.have.status(200);",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.be.true;",
									"    pm.expect(jsonData.data).to.be.an('array');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/users",
							"host": ["{{baseUrl}}"],
							"path": ["api", "users"]
						},
						"description": "Get all users. Required permission: USER_VIEW"
					},
					"response": []
				},
				{
					"name": "Get User by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/users/11111111-1111-1111-1111-111111111111",
							"host": ["{{baseUrl}}"],
							"path": ["api", "users", "11111111-1111-1111-1111-111111111111"]
						},
						"description": "Get user by ID. Required permission: USER_VIEW"
					},
					"response": []
				},
				{
					"name": "Create User",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"if (jsonData.success && jsonData.data.id) {",
									"    pm.collectionVariables.set('newUserId', jsonData.data.id);",
									"}",
									"",
									"pm.test('Create user successful', function() {",
									"    pm.response.to.have.status(201);",
									"    pm.expect(jsonData.success).to.be.true;",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"username\": \"newuser\",\n    \"password\": \"password123\",\n    \"fullName\": \"New User Test\",\n    \"email\": \"newuser@company.com\",\n    \"department\": \"Finance\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/users",
							"host": ["{{baseUrl}}"],
							"path": ["api", "users"]
						},
						"description": "Create new user. Required permission: USER_CREATE"
					},
					"response": []
				},
				{
					"name": "Update User",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"fullName\": \"Updated User Name\",\n    \"department\": \"Accounting\",\n    \"status\": \"ACTIVE\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/users/44444444-4444-4444-4444-444444444444",
							"host": ["{{baseUrl}}"],
							"path": ["api", "users", "44444444-4444-4444-4444-444444444444"]
						},
						"description": "Update user. Required permission: USER_UPDATE"
					},
					"response": []
				},
				{
					"name": "Assign Roles to User",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"roleNames\": [\"ROLE_IT_SUPPORT\"]\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/users/44444444-4444-4444-4444-444444444444/roles",
							"host": ["{{baseUrl}}"],
							"path": ["api", "users", "44444444-4444-4444-4444-444444444444", "roles"]
						},
						"description": "Assign roles to user. Required permission: ROLE_ASSIGN. Available roles: ROLE_ADMIN, ROLE_IT_SUPPORT, ROLE_EMPLOYEE"
					},
					"response": []
				},
				{
					"name": "Delete User",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/users/66666666-6666-6666-6666-666666666666",
							"host": ["{{baseUrl}}"],
							"path": ["api", "users", "66666666-6666-6666-6666-666666666666"]
						},
						"description": "Delete user. Required permission: USER_DELETE"
					},
					"response": []
				}
			],
			"description": "User management endpoints (Admin only)"
		},
		{
			"name": "3. Ticket API",
			"item": [
				{
					"name": "Get All Tickets",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Get all tickets successful', function() {",
									"    pm.response.to.have.status(200);",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.be.true;",
									"    pm.expect(jsonData.data).to.be.an('array');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/tickets",
							"host": ["{{baseUrl}}"],
							"path": ["api", "tickets"]
						},
						"description": "Get all tickets. Required permission: TICKET_VIEW_ALL (Admin, IT Support)"
					},
					"response": []
				},
				{
					"name": "Get My Tickets",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Get my tickets successful', function() {",
									"    pm.response.to.have.status(200);",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.be.true;",
									"    pm.expect(jsonData.data).to.be.an('array');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/tickets/my",
							"host": ["{{baseUrl}}"],
							"path": ["api", "tickets", "my"]
						},
						"description": "Get tickets created by current user. Required permission: TICKET_VIEW_OWN (Employee)"
					},
					"response": []
				},
				{
					"name": "Get Ticket by ID",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/tickets/aaaa1111-1111-1111-1111-111111111111",
							"host": ["{{baseUrl}}"],
							"path": ["api", "tickets", "aaaa1111-1111-1111-1111-111111111111"]
						},
						"description": "Get ticket by ID"
					},
					"response": []
				},
				{
					"name": "Create Ticket",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"var jsonData = pm.response.json();",
									"if (jsonData.success && jsonData.data.id) {",
									"    pm.collectionVariables.set('newTicketId', jsonData.data.id);",
									"}",
									"",
									"pm.test('Create ticket successful', function() {",
									"    pm.response.to.have.status(201);",
									"    pm.expect(jsonData.success).to.be.true;",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"New computer setup request\",\n    \"description\": \"I need a new computer setup for my workstation. The current one is too slow for my tasks.\",\n    \"category\": \"HARDWARE\",\n    \"priority\": \"MEDIUM\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/tickets",
							"host": ["{{baseUrl}}"],
							"path": ["api", "tickets"]
						},
						"description": "Create new ticket. Required permission: TICKET_CREATE (Employee). Categories: NETWORK, SOFTWARE, HARDWARE, ACCOUNT. Priorities: LOW, MEDIUM, HIGH"
					},
					"response": []
				},
				{
					"name": "Create Ticket - Network Issue",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"title\": \"WiFi connection keeps dropping\",\n    \"description\": \"My WiFi connection is unstable. It disconnects every 30 minutes and I have to reconnect manually.\",\n    \"category\": \"NETWORK\",\n    \"priority\": \"HIGH\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/tickets",
							"host": ["{{baseUrl}}"],
							"path": ["api", "tickets"]
						},
						"description": "Create a network issue ticket"
					},
					"response": []
				},
				{
					"name": "Assign Ticket",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"assigneeId\": \"22222222-2222-2222-2222-222222222222\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/tickets/aaaa1111-1111-1111-1111-111111111111/assign",
							"host": ["{{baseUrl}}"],
							"path": ["api", "tickets", "aaaa1111-1111-1111-1111-111111111111", "assign"]
						},
						"description": "Assign ticket to IT Support. Required permission: TICKET_ASSIGN (Admin, IT Support). Assignee IDs: itsupport1=22222222-2222-2222-2222-222222222222, itsupport2=33333333-3333-3333-3333-333333333333"
					},
					"response": []
				},
				{
					"name": "Update Ticket Status - In Progress",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"status\": \"IN_PROGRESS\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/tickets/aaaa2222-2222-2222-2222-222222222222/status",
							"host": ["{{baseUrl}}"],
							"path": ["api", "tickets", "aaaa2222-2222-2222-2222-222222222222", "status"]
						},
						"description": "Update ticket status. Required permission: TICKET_UPDATE_STATUS (Admin, IT Support). Statuses: OPEN, ASSIGNED, IN_PROGRESS, RESOLVED, CLOSED"
					},
					"response": []
				},
				{
					"name": "Update Ticket Status - Resolved",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"status\": \"RESOLVED\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/tickets/aaaa3333-3333-3333-3333-333333333333/status",
							"host": ["{{baseUrl}}"],
							"path": ["api", "tickets", "aaaa3333-3333-3333-3333-333333333333", "status"]
						},
						"description": "Update ticket status to resolved"
					},
					"response": []
				},
				{
					"name": "Update Ticket Status - Closed",
					"request": {
						"method": "PUT",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"status\": \"CLOSED\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/tickets/aaaa4444-4444-4444-4444-444444444444/status",
							"host": ["{{baseUrl}}"],
							"path": ["api", "tickets", "aaaa4444-4444-4444-4444-444444444444", "status"]
						},
						"description": "Update ticket status to closed"
					},
					"response": []
				},
				{
					"name": "Delete Ticket",
					"request": {
						"method": "DELETE",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/tickets/aaaa5555-5555-5555-5555-555555555555",
							"host": ["{{baseUrl}}"],
							"path": ["api", "tickets", "aaaa5555-5555-5555-5555-555555555555"]
						},
						"description": "Delete ticket. Required permission: TICKET_DELETE (Admin only)"
					},
					"response": []
				}
			],
			"description": "Ticket management endpoints"
		},
		{
			"name": "4. Comment API",
			"item": [
				{
					"name": "Add Comment to Ticket",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Add comment successful', function() {",
									"    pm.response.to.have.status(201);",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.be.true;",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"content\": \"I have checked the VPN server and it seems to be running fine. Can you please try connecting again and provide the exact error message?\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/tickets/aaaa1111-1111-1111-1111-111111111111/comments",
							"host": ["{{baseUrl}}"],
							"path": ["api", "tickets", "aaaa1111-1111-1111-1111-111111111111", "comments"]
						},
						"description": "Add comment to ticket. Required permission: COMMENT_ADD (IT Support, Employee)"
					},
					"response": []
				},
				{
					"name": "Add Comment - Status Update",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"content\": \"Update: I have identified the issue. Working on fixing it now. Expected resolution time: 2 hours.\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/tickets/aaaa2222-2222-2222-2222-222222222222/comments",
							"host": ["{{baseUrl}}"],
							"path": ["api", "tickets", "aaaa2222-2222-2222-2222-222222222222", "comments"]
						},
						"description": "Add status update comment"
					},
					"response": []
				}
			],
			"description": "Comment endpoints"
		},
		{
			"name": "5. Report API",
			"item": [
				{
					"name": "Get Ticket Report",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Get report successful', function() {",
									"    pm.response.to.have.status(200);",
									"    var jsonData = pm.response.json();",
									"    pm.expect(jsonData.success).to.be.true;",
									"    pm.expect(jsonData.data).to.have.property('totalTickets');",
									"    pm.expect(jsonData.data).to.have.property('ticketsByStatus');",
									"    pm.expect(jsonData.data).to.have.property('ticketsByCategory');",
									"    pm.expect(jsonData.data).to.have.property('ticketsByPriority');",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/reports/tickets",
							"host": ["{{baseUrl}}"],
							"path": ["api", "reports", "tickets"]
						},
						"description": "Get ticket statistics report. Required permission: REPORT_VIEW (Admin, IT Support)"
					},
					"response": []
				}
			],
			"description": "Report endpoints"
		},
		{
			"name": "6. Error Testing",
			"item": [
				{
					"name": "Test - Unauthorized Access",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Unauthorized response', function() {",
									"    pm.response.to.have.status(401);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [],
						"url": {
							"raw": "{{baseUrl}}/api/users",
							"host": ["{{baseUrl}}"],
							"path": ["api", "users"]
						},
						"description": "Test unauthorized access without token"
					},
					"response": []
				},
				{
					"name": "Test - Invalid Token",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Unauthorized response', function() {",
									"    pm.response.to.have.status(401);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer invalid_token_here"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/users",
							"host": ["{{baseUrl}}"],
							"path": ["api", "users"]
						},
						"description": "Test with invalid JWT token"
					},
					"response": []
				},
				{
					"name": "Test - Invalid Login",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Unauthorized response', function() {",
									"    pm.response.to.have.status(401);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"username\": \"admin\",\n    \"password\": \"wrongpassword\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/auth/login",
							"host": ["{{baseUrl}}"],
							"path": ["api", "auth", "login"]
						},
						"description": "Test login with wrong password"
					},
					"response": []
				},
				{
					"name": "Test - Validation Error",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Bad request response', function() {",
									"    pm.response.to.have.status(400);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"username\": \"ab\",\n    \"password\": \"123\",\n    \"fullName\": \"\",\n    \"email\": \"invalid-email\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/users",
							"host": ["{{baseUrl}}"],
							"path": ["api", "users"]
						},
						"description": "Test validation errors with invalid input"
					},
					"response": []
				},
				{
					"name": "Test - Resource Not Found",
					"event": [
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Not found response', function() {",
									"    pm.response.to.have.status(404);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{token}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/users/00000000-0000-0000-0000-000000000000",
							"host": ["{{baseUrl}}"],
							"path": ["api", "users", "00000000-0000-0000-0000-000000000000"]
						},
						"description": "Test accessing non-existent resource"
					},
					"response": []
				}
			],
			"description": "Error handling test cases"
		},
		{
			"name": "7. Permission Testing",
			"item": [
				{
					"name": "Test - Employee cannot access all tickets",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"// First login as employee to get token",
									"pm.sendRequest({",
									"    url: pm.collectionVariables.get('baseUrl') + '/api/auth/login',",
									"    method: 'POST',",
									"    header: {",
									"        'Content-Type': 'application/json'",
									"    },",
									"    body: {",
									"        mode: 'raw',",
									"        raw: JSON.stringify({",
									"            username: 'employee1',",
									"            password: 'password123'",
									"        })",
									"    }",
									"}, function (err, res) {",
									"    if (!err && res.json().success) {",
									"        pm.collectionVariables.set('employeeToken', res.json().data.token);",
									"    }",
									"});"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Access denied for employee', function() {",
									"    pm.response.to.have.status(403);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{employeeToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/tickets",
							"host": ["{{baseUrl}}"],
							"path": ["api", "tickets"]
						},
						"description": "Test that employee cannot access all tickets (needs TICKET_VIEW_ALL)"
					},
					"response": []
				},
				{
					"name": "Test - Employee cannot access users",
					"request": {
						"method": "GET",
						"header": [
							{
								"key": "Authorization",
								"value": "Bearer {{employeeToken}}"
							}
						],
						"url": {
							"raw": "{{baseUrl}}/api/users",
							"host": ["{{baseUrl}}"],
							"path": ["api", "users"]
						},
						"description": "Test that employee cannot access user management (needs USER_VIEW)"
					},
					"response": []
				},
				{
					"name": "Test - IT Support cannot create users",
					"event": [
						{
							"listen": "prerequest",
							"script": {
								"exec": [
									"// First login as IT Support to get token",
									"pm.sendRequest({",
									"    url: pm.collectionVariables.get('baseUrl') + '/api/auth/login',",
									"    method: 'POST',",
									"    header: {",
									"        'Content-Type': 'application/json'",
									"    },",
									"    body: {",
									"        mode: 'raw',",
									"        raw: JSON.stringify({",
									"            username: 'itsupport1',",
									"            password: 'password123'",
									"        })",
									"    }",
									"}, function (err, res) {",
									"    if (!err && res.json().success) {",
									"        pm.collectionVariables.set('itSupportToken', res.json().data.token);",
									"    }",
									"});"
								],
								"type": "text/javascript"
							}
						},
						{
							"listen": "test",
							"script": {
								"exec": [
									"pm.test('Access denied for IT Support', function() {",
									"    pm.response.to.have.status(403);",
									"});"
								],
								"type": "text/javascript"
							}
						}
					],
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							},
							{
								"key": "Authorization",
								"value": "Bearer {{itSupportToken}}"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n    \"username\": \"testuser\",\n    \"password\": \"password123\",\n    \"fullName\": \"Test User\",\n    \"email\": \"test@company.com\"\n}"
						},
						"url": {
							"raw": "{{baseUrl}}/api/users",
							"host": ["{{baseUrl}}"],
							"path": ["api", "users"]
						},
						"description": "Test that IT Support cannot create users (needs USER_CREATE)"
					},
					"response": []
				}
			],
			"description": "Permission-based access control tests"
		}
	]
}
